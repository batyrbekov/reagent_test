{"version":3,"sources":["giggin/components/orders.cljs"],"mappings":"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","names":["giggin.components.orders/total","giggin.state/orders","cljs.core/deref","cljs.core.map.cljs$core$IFn$_invoke$arity$2","p__26609","vec__26610","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","id","quant","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","giggin.state/gigs","cljs.core.reduce.cljs$core$IFn$_invoke$arity$2","cljs.core/+","giggin.components.orders/orders","p1__26613#","remove-from-order","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3","cljs.core/dissoc","remove-all-orders","cljs.core/reset!","cljs.core/empty?","iter__4523__auto__","s__26615","cljs.core/LazySeq","temp__5720__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4521__auto__","size__4522__auto__","cljs.core/count","b__26617","cljs.core/chunk-buffer","i__26616","vec__26621","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__26614","cljs.core/chunk-rest","vec__26624","cljs.core/first","cljs.core/cons","cljs.core/rest","giggin.helpers/format-price","giggin.components.checkout-modal/checkout-modal","cljs.core/chunk-first"],"sourcesContent":["(ns giggin.components.orders\n  (:require [giggin.state :as state]\n            [giggin.helpers :refer [format-price]]\n            [giggin.components.checkout-modal :refer [checkout-modal]]))\n\n(defn total\n  []\n  (->> @state/orders\n       (map (fn [[id quant]] (* quant (get-in @state/gigs [id :price]))))\n       (reduce +)))\n\n(defn orders\n  []\n  (let [remove-from-order #(swap! state/orders dissoc %)\n        remove-all-orders #(reset! state/orders {})]\n    [:aside\n     (if (empty? @state/orders)\n       [:div.empty\n        [:div.title \"You don't have any orders\"]\n        [:div.subtitle \"Click on a + to add an order\"]]\n       [:div.order\n        [:div.body\n         (for [[id quant] @state/orders]\n           [:div.item {:key id}\n            [:div.img\n             [:img {:src (get-in @state/gigs [id :img])\n                    :alt (get-in @state/gigs [id :title])}]]\n            [:div.content\n             [:p.title (str (get-in @state/gigs [id :title]) \" \\u00D7 \" quant)]]\n            [:div.action\n             [:div.price (format-price (* (get-in @state/gigs [id :price]) quant))]\n             [:button.btn.btn--link.tooltip\n              {:data-tooltip \"Remove\"\n               :on-click #(remove-from-order id)}\n              [:i.icon.icon--cross]]]])]\n        [:div.total\n         [:hr]\n         [:div.item\n          [:div.content \"Total\"]\n          [:div.action\n           [:div.price (format-price (total))]]\n          [:button.btn.btn--link.tooltip\n           {:data-tooltip \"Remove all\"\n            :on-click #(remove-all-orders)}\n           [:i.icon.icon--delete]]]\n         [checkout-modal]]])]))\n"]}